!function(a){function n(a){return{restrict:"A",link:function(n,e,t){function g(a,n,e){r()?(e=JSON.stringify({type:n,data:e}),a.setData("text",e)):(e=""+e,a.setData(n,e))}function s(a,n){if(!r()){for(var e=0;e<a.types.length;++e)if(a.types[e]===n)return!0;return!1}try{var t=JSON.parse(a.getData("text"));if(t&&t.type==n)return!0}catch(g){}}function i(a,n){if(!r())return a.getData(n);try{var e=JSON.parse(a.getData("text"));if(e&&e.type==n)return e.data}catch(t){}}t.$set("draggable",!0);var o=t.bDraggable;e.on("dragstart",function(r){e.addClass(a.draggingClassname),g(r.dataTransfer,o,n.$eval(t.draggableDrag))}),e.on("dragenter",function(n){!r()&&s(n.dataTransfer,o)&&e.addClass(a.draggingEnterClassname),n.stopPropagation(),n.preventDefault()}),e.on("dragover",function(n){!r()&&s(n.dataTransfer,o)&&e.addClass(a.draggingEnterClassname),n.stopPropagation(),n.preventDefault()}),e.on("dragleave",function(){e.removeClass(a.draggingEnterClassname)}),e.on("dragend",function(){e.removeClass(a.draggingClassname)}),e.on("drop",function(r){e.removeClass(a.draggingClassname),e.removeClass(a.draggingEnterClassname),s(r.dataTransfer,o)&&n.$apply(function(){n.$eval(t.draggableDrop,{$data:i(r.dataTransfer,o)})})})}}}function r(){return-1!==navigator.appVersion.indexOf("MSIE 10")?!0:-1!==navigator.userAgent.indexOf("Trident")&&-1!==navigator.userAgent.indexOf("rv:11")?!0:!1}a.module("bDraggable",[]).constant("bDraggableConfig",{draggingClassname:"_dragging",draggingEnterClassname:"_dragging-enter"}).directive("bDraggable",n),n.$inject=["bDraggableConfig"]}(angular);